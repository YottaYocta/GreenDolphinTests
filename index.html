<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>GreenDolphin Testing Grounds üõ†Ô∏è</title>
  </head>
  <body class="bg-neutral-50">
    <div id="app" class="flex flex-col items-center">
      <div class="p-8 flex flex-col gap-4 max-w-5xl w-full">
        <div class="card w-full p-4">
          <h1 class="font-bold text-nowrap flex justify-between">
            <span class="chip"> GreenDolphin Testing Grounds üõ†Ô∏è </span>
            <span class="text-emerald-500 chip">‡ºùÔπ°ÀñÀü ‚∏ú‚Çç‚ÅΩÀäÍí≥Àã‚Åæ‚Çé‚∏ù ‡ºùÔπ°ÀñÀü </span>
          </h1>
        </div>
        <div class="flex flex-col gap-2 card w-full">
          <div class="flex gap-2 w-full">
            <audio
              src="Wynton Kelly - On Green Dolphin Street.mp3"
              controls
              class="w-full rounded-sm"
            ></audio>
          </div>
        </div>
        <div
          class="flex items-center w-full justify-between card md:flex-row flex-col gap-4 md:gap-2"
        >
          <button data-playing="false" role="switch" aria-checked="false">
            Toggle Drone
          </button>
          <div class="flex gap-2 items-center">
            <label for="drone-frequency">base frequency: </label>
            <input
              type="number"
              id="drone-frequency"
              name="drone-frequency"
              class="chip w-24"
              value="440"
            />
            <span>x</span>
            <div class="flex flex-col gap-2">
              <div class="flex gap-2 items-center">
                <input
                  type="number"
                  id="numerator"
                  name="numerator"
                  aria-label="frequency multiplier numerator"
                  class="chip w-16"
                  value="1"
                  min="0"
                />
              </div>
              <hr />
              <div class="flex gap-2 items-center">
                <input
                  type="number"
                  id="denominator"
                  name="denominator"
                  aria-label="frequency multiplier denominator"
                  class="chip w-16"
                  value="1"
                  min="1"
                />
              </div>
            </div>
          </div>
          <div class="flex flex-col gap-2">
            <div class="flex flex-col w-48">
              <label for="volume">volume</label>
              <input
                type="range"
                id="volume"
                name="volume"
                min="0"
                max="0.4"
                step="0.01"
              />
            </div>
            <div class="flex flex-col w-48">
              <label for="pan">pan</label>
              <input
                type="range"
                id="pan"
                name="pan"
                min="-1"
                max="1"
                value="0"
                step="0.01"
              />
            </div>
          </div>
        </div>
        <div class="w-full flex flex-col gap-2 card">
          <div class="w-full flex justify-between">
            <div class="flex flex-col gap-2 w-full">
              <div class="flex gap-2 items-center justify-between">
                <div class="flex gap-2 flex-col md:flex-row">
                  <span id="buffer-length" class="chip"></span>
                  <span id="sample-rate" class="chip"></span>
                </div>
                <div class="flex gap-4 flex-col md:flex-row md:gap-2">
                  <div class="flex flex-col max-w-48">
                    <label for="fft-smoothing">FFT smoothing</label>
                    <input
                      type="range"
                      id="fft-smoothing"
                      name="fft-smoothing"
                      min="0"
                      max="1"
                      value="0.5"
                      step="0.01"
                      class="w-full"
                    />
                  </div>

                  <div class="flex gap-2 items-center">
                    <label for="fft-size">FFT Size: </label>
                    <select name="fft-size" id="fft-size">
                      <option value="2048">2048</option>
                      <option value="4096">4096</option>
                      <option value="8192">8192</option>
                      <option value="16384">16384</option>
                      <option value="32768">32768</option>
                    </select>
                  </div>
                </div>
              </div>
              <canvas
                width="600"
                id="pitch"
                class="w-full rounded-sm object-contain object-center"
              ></canvas>

              <div
                class="flex w-full gap-2 flex-col md:flex-row justify-center"
              >
                <canvas
                  id="oscilloscope"
                  class="w-full rounded-sm object-contain object-center"
                ></canvas>
                <canvas
                  id="frequency"
                  class="w-full rounded-sm object-contain object-center"
                ></canvas>
              </div>
            </div>
          </div>
        </div>
        <div class="w-full flex flex-col gap-2 card">
          <div class="flex items-center gap-2">
            <input
              type="file"
              class="interactable"
              name="file-upload"
              id="file-upload"
            />
            <div class="flex flex-col max-w-48">
              <label for="waveform-zoom">Zoom</label>
              <input
                type="range"
                id="waveform-zoom"
                name="waveform-zoom"
                min="0.5"
                max="6"
                value="2"
                step="0.01"
                class="w-full"
              />
            </div>
            <div class="flex flex-col max-w-48">
              <label for="waveform-resolution">resolution</label>
              <input
                type="range"
                id="waveform-resolution"
                name="waveform-resolution"
                min="10"
                max="10000"
                value="2"
                step="10"
                class="w-full"
              />
            </div>
          </div>

          <div class="overflow-x-auto">
            <canvas
              width="600"
              height="300"
              id="waveform"
              class="w-full"
            ></canvas>
          </div>
        </div>
        <script type="module" src="/src/main.ts"></script>
      </div>
    </div>
  </body>
</html>
